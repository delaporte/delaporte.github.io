"use strict";angular.module("runningApp",["ngRoute","timeFormateur.filter"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/conversion",{templateUrl:"views/conversion.html",controller:"ConversionCtrl"}).when("/estimation",{templateUrl:"views/estimation.html",controller:"EstimationCtrl"}).otherwise({redirectTo:"/"})}]);var durationFilter=angular.module("timeFormateur.filter",[]);durationFilter.filter("decimalToTimeFormateur",function(){return function(a){var b="",c=Math.floor(a);if(c>59){var d=Math.floor(c/60),e=c%60;b+=d+"h",b+=10>e?"0"+e:e,b+=":"}else b+=c+":";var f=a%1*100,g=Math.round(60*f/100);return b+=10>g?"0"+g:g}}).filter("timetoDecimalFormateur",function(){return function(a){var b=a.split(":"),c=0!==b[0].length?parseInt(b[0]):0,d=b.length>1&&0!==b[1].length?parseInt(b[1]):0;d=Math.round(100*d/60);var e=c;return e+=d/100}}).filter("stringToTimeFormateur",function(){var a=function(a,b){var c,d,e=a.split(b);return 1===e.length?isNaN(e[0])||isNaN(parseInt(e[0]))?(c=0,d=e[0]):(c=e[0],d=""):(c=e[0],d=e[1]),c=isNaN(c)?0:parseInt(c),[c,d]};return function(b){var c=b,d=0,e=a(c,"h");d+=3600*e[0],c=e[1];var f=a(c,"min");d+=60*f[0],c=f[1];var g=a(c,"sec");return d+=g[0]}}),angular.module("runningApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("runningApp").controller("ConversionCtrl",["$scope","$filter",function(a,b){a.calculAllure=function(c){var d=60/c;a.allure=b("decimalToTimeFormateur")(d)},a.calculVitesse=function(c){var d=b("timetoDecimalFormateur")(c);a.vitesse=(60/d).toFixed(2)},a.vitesse=10,a.allure="6:00",a.distance=20,a.competitions=[{competition:"10 km",distance:10},{competition:"20 km",distance:20},{competition:"semi-marathon (21.1 km)",distance:21.1},{competition:"marathon (42.195 km)",distance:42.195},{competition:"100 bornes",distance:100},{competition:"100 miles (160.93 km)",distance:160.93}],a.kms=[5,10,15,20],a.generateKmTable=function(b,c){a.kms=[];var d=5;c&&(d=1);for(var e=d;e<a.distance;e+=d)a.kms.push(e);a.kms.push(b)},a.calculTemps=function(c){return c*b("timetoDecimalFormateur")(a.allure)}}]),angular.module("runningApp").controller("EstimationCtrl",["$scope","$filter",function(a,b){a.calculVma=function(d,e){var f=b("stringToTimeFormateur")(d),g=e/f*3600;angular.forEach(c,function(b){b.duree<f&&(a.vma=g/b.vma,a.pourcentage=100*b.vma)})},a.distance=20,a.competitions=[{competition:"10 km",distance:10},{competition:"20 km",distance:20},{competition:"semi-marathon (21.1 km)",distance:21.1},{competition:"marathon (42.195 km)",distance:42.195},{competition:"100 bornes",distance:100},{competition:"100 miles (160.93 km)",distance:160.93}];var c=[{duree:1800,vma:.93},{duree:2700,vma:.87},{duree:3600,vma:.85},{duree:5400,vma:.8},{duree:7200,vma:.8},{duree:9e3,vma:.78},{duree:10800,vma:.76},{duree:12600,vma:.75},{duree:999999999,vma:.7}]}]);